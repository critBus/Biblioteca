{% extends "admin/change_list.html" %}
{% load static %}

{% block object-tools %}
    <div class="object-tools">
        <div style="margin-bottom: 10px; background-color: #f8f9fa; padding: 10px; border-radius: 4px;">
            {% if ultimo_inventario %}
                <strong>Última actualización:</strong> {{ ultimo_inventario.fecha|date:"d/m/Y" }}
            {% else %}
                <strong>No hay actualizaciones previas</strong>
            {% endif %}
        </div>
        <a href="{% url 'admin:actualizar-inventario' %}" class="button btn  btn-high btn-success">
            Actualizar Inventario
        </a>
    </div>
{% endblock %}

{% block content %}

<div class="inventario-container">
    
    <!-- Tabla de Libros -->
    <div class="inventario-section">
        <h2>Libros en Inventario</h2>
        <table>
            <thead>
                <tr>
                    <th>Título</th>
                    <th>Autor</th>
                    <th>Editorial</th>
                    <th>Copias</th>
                </tr>
            </thead>
            <tbody>
                {% for libro in libros %}
                <tr>
                    <td>{{ libro.titulo }}</td>
                    <td>{{ libro.autor }}</td>
                    <td>{{ libro.editorial }}</td>
                    <td>{{ libro.numero_copias }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Tabla de Revistas -->
    <div class="inventario-section">
        <h2>Revistas en Inventario</h2>
        <table>
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Editorial</th>
                    <th>Número</th>
                    <th>Copias</th>
                </tr>
            </thead>
            <tbody>
                {% for revista in revistas %}
                <tr>
                    <td>{{ revista.nombre }}</td>
                    <td>{{ revista.editorial }}</td>
                    <td>{{ revista.numero }}</td>
                    <td>{{ revista.numero_copias }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Tabla de Mobiliario -->
    <div class="inventario-section">
        <h2>Mobiliario en Inventario</h2>
        <table>
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Ubicación</th>
                    <th>Estado</th>
                    <th>Cantidad</th>
                </tr>
            </thead>
            <tbody>
                {% for mueble in mobiliarios %}
                <tr>
                    <td>{{ mueble.nombre_tipoMueble }}</td>
                    <td>{{ mueble.ubicacion }}</td>
                    <td>{{ mueble.estado }}</td>
                    <td>{{ mueble.cantidad }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Tabla de Materiales Audiovisuales -->
    <div class="inventario-section">
        <h2>Materiales Audiovisuales en Inventario</h2>
        <table>
            <thead>
                <tr>
                    <th>Título</th>
                    <th>Creador</th>
                    <th>Formato</th>
                    <th>Copias</th>
                </tr>
            </thead>
            <tbody>
                {% for material in materiales_audiovisuales %}
                <tr>
                    <td>{{ material.titulo }}</td>
                    <td>{{ material.creador }}</td>
                    <td>{{ material.formato }}</td>
                    <td>{{ material.numero_copias }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<style>
    .inventario-container {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    padding: 20px;
}

.inventario-section {
    background: white;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.inventario-section h2 {
    color: #417690;
    margin-bottom: 15px;
    font-size: 16px;
    font-weight: bold;
}

.inventario-section table {
    width: 100%;
    border-collapse: collapse;
}

.inventario-section th {
    background: #417690;
    color: white;
    padding: 8px;
    text-align: left;
}

.inventario-section td {
    padding: 8px;
    border-bottom: 1px solid #ddd;
}

.inventario-section tr:hover {
    background: #f5f5f5;
}

/* Responsive design */
@media (max-width: 1200px) {
    .inventario-container {
        grid-template-columns: 1fr;
    }
}

</style>

{% endblock %}
